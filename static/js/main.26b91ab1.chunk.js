(this.webpackJsonpnotepad=this.webpackJsonpnotepad||[]).push([[0],{27:function(e,t,n){e.exports=n(61)},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},53:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(4),l=n.n(s),r=(n(32),n(33),n(1)),c=n(5),i=n(6),d=n(9),u=n(8),p=(n(34),function(e){var t=null;switch(e.elementType){case"input":t=o.a.createElement("input",Object.assign({},e.elementConfig,{id:e.label,className:"form-control form-control-lg my-2",value:e.value,onChange:e.inputChange}));break;case"text-area":t=o.a.createElement("textarea",Object.assign({},e.elementConfig,{id:e.label,value:e.value,className:"form-control form-control-lg my-2",onChange:e.inputChange}));break;default:t=o.a.createElement("input",null)}return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,e.label),t)}),m=n(25),f=n.n(m).a.create({baseURL:"https://kreeti-react-notepad.firebaseio.com/"}),g=n(11),b=n(10),v=n.n(b),h=n(3),E=n.n(h),O=(n(24),n(7)),y=(n(53),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).showHandler=function(e,t){v()("#"+t+"-desc > span").stop().slideToggle(1e3),v()("#"+t+"-desc > p").stop().slideToggle(600)},e.componentDidMount=function(){v()(".complete").stop().hide()},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(O.b,{draggableId:this.props.id,index:this.props.index},(function(t){return o.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),o.a.createElement("div",{className:"card text-dark border-primary my-3 post"},o.a.createElement("div",{className:"card-header bg-dark text-white"},o.a.createElement("h3",null,e.props.title)),o.a.createElement("div",{className:"card-body desc",id:"".concat(e.props.id,"-desc")},o.a.createElement("span",{className:"teaser card-text"}," ",e.props.description.substring(0,49)," ",e.props.description.length>49?"....":null," "),o.a.createElement("p",{className:"complete card-text"},e.props.description)),o.a.createElement("div",{className:"card-footer"},o.a.createElement("span",{class:"badge my-3 d-block d-lg-inline badge-pill badge-info"},e.props.date),o.a.createElement("button",{className:"show  ml-lg-5 btn  d-lg-inline btn-outline-primary",id:e.props.id,onClick:function(t){return e.showHandler(t,e.props.id)}},"Show"),o.a.createElement("button",{className:" ml-lg-3  btn ml-1 d-inline d-lg-inline btn-outline-danger",onClick:function(){return e.props.delete(e.props.id)}},"Delete"))))})))}}]),n}(a.Component)),I=(n(60),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={posts:null,columns:{"column-1":{id:"column-1",title:"To do",postIds:[]}},columnOrder:["column-1"],notification:e.props.notification},e.componentDidMount=function(){f.get("/posts.json").then((function(t){var n;n=Object(r.a)({},t.data);var a=[];for(var o in n)a.push(o);e.setState({posts:n,columns:{"column-1":{id:"column-1",title:"To do",postIds:a}},columnOrder:["column-1"]})}))},e.componentDidUpdate=function(){var t=null;if(0===Object.keys(e.state.posts).length&&e.state.posts.constructor===Object&&null!==e.props.newPostId)t=!0;else for(var n in e.state.posts){if("".concat(e.props.newPostId)==n||null==e.props.newPostId){t=!1;break}t=!0}t&&f.get("/posts.json").then((function(t){var n;n=Object(r.a)({},t.data);var a=[];for(var o in n)a.push(o);e.setState({posts:n,columns:{"column-1":{id:"column-1",title:"To do",postIds:a}},columnOrder:["column-1"]})}))},e.onDragEnd=function(t){var n=t.destination,a=t.source,o=t.draggableId;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index)){var s=e.state.columns[a.droppableId];console.log(s,"COLUMN");var l=Array.from(s.postIds);console.log(l,"POST ARRAY"),l.splice(a.index,1),console.log(l,"FIRST SPLICE"),l.splice(n.index,0,o),console.log(l,"FINAL SPLICE");var c=Object(r.a)(Object(r.a)({},s),{},{postIds:l});console.log(c,"NEW COLUMN");var i=Object(r.a)(Object(r.a)({},e.state),{},{columns:Object(g.a)({},c.id,c)});console.log(i,"NEW STATE"),e.setState(i)}},e.deleteHandler=function(t){f.delete("/posts/".concat(t,".json"));var n=Object(r.a)({},e.state);console.log(n.posts,"POST"),console.log(n.posts[t],"DELETED POST");var a=e.state.columns["column-1"].postIds.indexOf(t);console.log(a,"INDEX"),n.columns["column-1"].postIds.splice(a,1),console.log(n,"AFTER DELETE"),delete n.posts[t],e.setState({posts:n.posts,columns:{"column-1":{postIds:n.columns["column-1"].postIds}}});var o=Object(r.a)({},e.state.notification);o.title="Deleted  ",o.message="Post successfully deleted  ",o.type="danger",h.store.addNotification(o),h.store.addNotification(e.state.notification)},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;console.log(this.props.newPostId,"NEWPOSTID"),console.log(this.state.posts,"MY POST");var t=null;for(var n in this.state.posts)t="".concat(this.props.newPostId)==n?"present":"absent";console.log(t);var a=[];this.state.columnOrder.map((function(t){console.log(t,"UPDATE_COL");var n=e.state.columns[t];console.log(n,"UPDATED COLUMN"),a=n.postIds.map((function(e){return console.log(e,"UPDATED POST ID"),"".concat(e)}))}));return o.a.createElement("div",null,o.a.createElement(O.a,{onDragEnd:this.onDragEnd},o.a.createElement("div",{className:" posts container "},o.a.createElement(O.c,{droppableId:"column-1"},(function(t){return o.a.createElement("div",Object.assign({ref:t.innerRef},t.droppableProps),a.map((function(t,n){return o.a.createElement(y,{title:e.state.posts[t].title,key:t,index:n,id:t,description:e.state.posts[t].description,delete:function(){return e.deleteHandler(t)},date:e.state.posts[t].date})})),t.placeholder)})))))}}]),n}(a.Component)),N=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={newPost:null,newPostId:null,notepadForm:{title:{elementType:"input",elementConfig:{label:"Title",type:"text",placeholder:"Enter Title"},value:""},description:{elementType:"text-area",elementConfig:{label:"Description",rows:"5",cols:"25",placeholder:"Enter Description"},value:""}},date:null,notification:{title:"Required",message:"This cannot be blank",type:"danger",insert:"top",container:"top-left",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e3,onScreen:!0}}},e.componentDidMount=function(){var t=Object(r.a)({},e.state.notification);t.title="Hello !!",t.message="Welcome to this application",t.type="success",t.dismiss.duration=3e3,h.store.addNotification(t)},e.onInputChangeHandler=function(t,n){var a=Object(r.a)({},e.state.notepadForm),o=a[n];o.value=t.target.value;var s=new Date,l=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate()+" "+(s.getHours()+":"+s.getMinutes()+":"+s.getSeconds());a[n]=o,e.setState({notepadForm:a,date:l})},e.formSubmitHandler=function(t){console.log(t,"EEEEE");var n=document.querySelector("#Title").value,a=document.querySelector("#Description").value;console.log(n.length,"TITLE LENGTH"),console.log(a.length,"DESC LENGTH"),t.preventDefault();var o=Object(r.a)({},e.state.notification);if(n.trim().length>0&&a.trim().length>0){var s={};for(var l in e.state.notepadForm){if(e.state.notepadForm[l].value.trim().length<5)return o.message='"'.concat(l.toUpperCase(),' is too short"'),void h.store.addNotification(o);s[l]=e.state.notepadForm[l].value}s.date=e.state.date,f.post("/posts.json",s).then((function(t){e.setState({newPost:Object(r.a)({},s),newPostId:t.data.name}),document.querySelector("#Title").value="",document.querySelector("#Description").value=""})).catch((function(e){return alert(e)})),o.title="Posted",o.message="Post successfully posted",o.type="success",h.store.addNotification(o)}else o.title="Required",o.message="Inputs cannot be blank",o.type="danger",h.store.addNotification(o)},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.notepadForm)t.push({id:n,config:this.state.notepadForm[n]});return o.a.createElement("div",{className:"row m-3 border shadow-lg p-3 mb-5 bg-white rounded bg-dark  rounded"},o.a.createElement(E.a,null),o.a.createElement("div",{className:"col-lg-4 my-4 "},o.a.createElement("div",{className:"card bg-info text-center Form card-form"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h3",{className:"card-header"},"Notepad"),o.a.createElement("p",{className:""},"write your short notes ",o.a.createElement("span",null,"\u270d\ufe0f")," "),o.a.createElement("form",{onSubmit:this.formSubmitHandler},t.map((function(t){return o.a.createElement(p,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,label:t.config.elementConfig.label,inputChange:function(n){return e.onInputChangeHandler(n,t.id)}})})),o.a.createElement("button",{className:"btn btn-outline-light btn-block"},"Add Note ",o.a.createElement("span",null,"\u270d\ufe0f")))))),o.a.createElement("div",{className:"col-lg-8 "},o.a.createElement(I,{newPost:this.state.newPost,newPostId:this.state.newPostId,notification:this.state.notification})))}}]),n}(a.Component);var w=function(){return o.a.createElement("div",{className:"App container"},o.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.26b91ab1.chunk.js.map